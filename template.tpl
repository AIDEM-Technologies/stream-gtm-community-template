___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "AIDEM Stream",
  "categories": ["ANALYTICS", "ADVERTISING"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/jpeg;base64,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K+ujKvQ7qPraabdxBIRMnajrNAaQn7mvZb6AkUrTMOHCmgSXa36YKSZn2qixOcJQm/MdKjFHOg05769TgfAeMywaB2vSUdm7HmrdfpvXf2YeV9dGVeh3VlRkqbKY1lBZs1/ygEpEHcsV7LfRos7xtYiauhlYww9jvUWwFdQ1ORRVdcq9TgbZamoumMC0aYAX7CwtpnPPC6VtgzJD4whhRERs864n34VAwjKydMsEIZjJUGr34UnwcRk+MJHKkwZ70sq76zzJZGzzqRFLOJf5b//aAAwDAQACAAMAAAAQtttttttttttttttttttttttttttttsFtTtttttttttjd8tttttttttrfq9ltttttttrLvv8ALbbbbbbbY2x/9bbbbbbbRm2P+nbbbbbbb22UPcLbbbbbbS23R63rbbbbbZW3L5W7bbbbbbG39aK2Dbbbbbo2zbbJLLbbbbW2+7QS2/bbbbbW2LaAW2tbbbaq2/beDG2LbbbU25bfRG29bbbVUlba/wD2ST2222222222222222k2k6e0emIW221sUHNay0VK2220+g4jV+2lW22zX1GG2E1Ce22222222222222222222222222//8QAKREAAgECAwcFAQEAAAAAAAAAAREAITEQIGEwQVFxgaHRQLHB4fCRUP/aAAgBAwEBPxD/AHBXkCgHAoejJYDeAgBJhCFLp+jJnA0VgtG/BFALDHoSQeIpAWHH5xovD0J7sjLJyH0JLLyFIRuyIRv7B9ziRv57ckFlQkbYAZCASsKDpGDvqNubORhwtjhxfsOZwJuUYMFo7UkHlQHg+ghFSmdR5n6xrW/s2p7sgMrIAtoB/wAhj3DipdqDtSWXk32RBWw/r5mm7+Zpu/mabv5i9zv5hvZiQWS8BBYgNYEVN2+nD+QAtGuQ6rZmzkFl5KEvT034OTv7TkBRcBYexJHlRkOwLUD5wfLKD1+4QishsLYnVZBZZB7/AAKc90JJLOPGex5jIaOxJC1NKaU0pcHIMPkKnnNX2mr7TV9oXOgq9fuaU0ppTSjKv+CACVhAim7F4iq2ir4lYOSZKBGCP2kWQ61sCQmOHnkfqCRjb/wwCYd6wDMwYIAIZu+ZSRbA4vU9N8sgqnrUfy03xAw/ZqcO8HvP25mHYBIrpLpop/Jf5QyPVW6xRC9RgLHofeAom4fuPGFYqQX7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\u003d"
  },
  "description": "AIDEM Stream Template",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "api_key",
    "displayName": "API Key",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "CHECKBOX",
    "name": "init_only",
    "checkboxText": "Init only",
    "simpleValueType": true,
    "defaultValue": false
  },
  {
    "type": "RADIO",
    "name": "event",
    "displayName": "Event",
    "radioItems": [
      {
        "value": "PageView",
        "displayValue": "PageView",
        "help": "",
        "subParams": []
      },
      {
        "value": "AddToCart",
        "displayValue": "AddToCart",
        "subParams": []
      },
      {
        "value": "AddToWishlist",
        "displayValue": "AddToWishlist"
      },
      {
        "value": "CompleteRegistration",
        "displayValue": "CompleteRegistration"
      },
      {
        "value": "Contact",
        "displayValue": "Contact"
      },
      {
        "value": "CustomizeProduct",
        "displayValue": "CustomizeProduct"
      },
      {
        "value": "Donate",
        "displayValue": "Donate"
      },
      {
        "value": "DonateRecurring",
        "displayValue": "DonateRecurring"
      },
      {
        "value": "FindLocation",
        "displayValue": "FindLocation"
      },
      {
        "value": "InitiateCheckout",
        "displayValue": "InitiateCheckout"
      },
      {
        "value": "Lead",
        "displayValue": "Lead"
      },
      {
        "value": "Purchase",
        "displayValue": "Purchase",
        "subParams": [
          {
            "type": "TEXT",
            "name": "price",
            "displayName": "price",
            "simpleValueType": true,
            "valueValidators": [
              {
                "type": "REGEX",
                "args": [
                  "^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$"
                ]
              },
              {
                "type": "NON_EMPTY"
              }
            ]
          },
          {
            "type": "SELECT",
            "name": "currency",
            "displayName": "currency",
            "selectItems": [
              {
                "value": "EUR",
                "displayValue": "EUR"
              },
              {
                "value": "GBP",
                "displayValue": "GBP"
              },
              {
                "value": "USD",
                "displayValue": "USD"
              }
            ],
            "simpleValueType": true,
            "defaultValue": "USD",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ]
          }
        ]
      },
      {
        "value": "Schedule",
        "displayValue": "Schedule"
      },
      {
        "value": "Search",
        "displayValue": "Search"
      },
      {
        "value": "StartTrial",
        "displayValue": "StartTrial"
      },
      {
        "value": "SubmitApplication",
        "displayValue": "SubmitApplication"
      },
      {
        "value": "Subscribe",
        "displayValue": "Subscribe"
      },
      {
        "value": "ViewContent",
        "displayValue": "ViewContent"
      }
    ],
    "simpleValueType": true,
    "defaultValue": "PageView"
  },
  {
    "type": "TEXT",
    "name": "event_id",
    "displayName": "event_id",
    "simpleValueType": true,
    "help": "To use the Conversion API, add the event_id parameter to the payload, which must be a unique identifier of the transaction. If you are already using Meta, to avoid duplication of events, the event_id passed must be the eventID of the Meta pixel."
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const copyFromWindow = require('copyFromWindow');
const log = require('logToConsole');
const setInWindow = require('setInWindow');
const callInWindow = require('callInWindow');

const aidemstreamOptions = {
  key: data.api_key,
  init_only: data.init_only
};

setInWindow('aidemstreamOptions', aidemstreamOptions, true);

const aidemstream = copyFromWindow('aidemstream') || function(){
  const queue = copyFromWindow('aidemstreamQ') || [];
  setInWindow('aidemstreamQ', queue, true);
  callInWindow('aidemstreamQ.push', arguments);
};

setInWindow('aidemstream', aidemstream, true);

let eventOptions = {};

if(data.event_id) eventOptions.event_id = data.event_id;
if(data.price) eventOptions.price = data.price;
if(data.currency) eventOptions.currency = data.currency;

callInWindow('aidemstream', 'track', data.event, eventOptions);

injectScript('https://stream.aidemsrv.com/lib/stream.js', data.gtmOnSuccess, data.gtmOnFailure, 'aidemPixel');


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "all"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "aidemstreamOptions"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "aidemstream"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "aidemstreamQ"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "aidemstreamQ.push"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://stream.aidemsrv.com/lib/stream.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 23/2/2023, 21:11:40


